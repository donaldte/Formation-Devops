# CIDR (Classless Inter-Domain Routing) - Explication ComplÃ¨te

## ğŸ¯ DÃ©finition du CIDR

**CIDR** (Classless Inter-Domain Routing) est une mÃ©thode d'allocation d'adresses IP et de routage internet qui remplace l'ancien systÃ¨me basÃ© sur les classes (Class A, B, C).

## ğŸ“Š Comparaison Ancien vs Nouveau SystÃ¨me

### SystÃ¨me avec Classes (Ancien)
```
Classe A: 0.0.0.0 - 127.255.255.255   /8
Classe B: 128.0.0.0 - 191.255.255.255 /16  
Classe C: 192.0.0.0 - 223.255.255.255 /24
```

### SystÃ¨me CIDR (Moderne)
```
Plage flexible: 10.0.0.0/8 Ã  10.0.0.0/32
```

## ğŸ”¢ Notation CIDR - Explication Visuelle

### Structure d'une Adresse IP
```
Adresse IP: 192.168.1.150
Binaire:    11000000.10101000.00000001.10010110

Masque:     /24 (255.255.255.0)
Binaire:    11111111.11111111.11111111.00000000
            â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘
            24 bits rÃ©seau + 8 bits hÃ´tes
```

### Table des Masques CIDR Courants
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CIDR     â”‚ Masque          â”‚ Adresses IP â”‚ Exemple de Plage    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ /8       â”‚ 255.0.0.0       â”‚ 16,777,216  â”‚ 10.0.0.0 - 10.255.255.255 â”‚
â”‚ /16      â”‚ 255.255.0.0     â”‚ 65,536      â”‚ 10.0.0.0 - 10.0.255.255   â”‚
â”‚ /20      â”‚ 255.255.240.0   â”‚ 4,096       â”‚ 10.0.0.0 - 10.0.15.255    â”‚
â”‚ /24      â”‚ 255.255.255.0   â”‚ 256         â”‚ 10.0.1.0 - 10.0.1.255     â”‚
â”‚ /26      â”‚ 255.255.255.192 â”‚ 64          â”‚ 10.0.1.0 - 10.0.1.63      â”‚
â”‚ /28      â”‚ 255.255.255.240 â”‚ 16          â”‚ 10.0.1.0 - 10.0.1.15      â”‚
â”‚ /32      â”‚ 255.255.255.255 â”‚ 1           â”‚ 10.0.1.50 - 10.0.1.50     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§® Calcul du Nombre d'Adresses

### Formule MathÃ©matique
```
Nombre d'adresses = 2^(32 - prÃ©fixe)

Exemples:
/16 : 2^(32-16) = 2^16 = 65,536 adresses
/24 : 2^(32-24) = 2^8 = 256 adresses
/28 : 2^(32-28) = 2^4 = 16 adresses
```

### Adresses Utilisables dans AWS
```
Dans AWS, 5 adresses sont rÃ©servÃ©es par sous-rÃ©seau:

Adresses utilisables = 2^(32 - prÃ©fixe) - 5

Exemple pour /24:
256 - 5 = 251 adresses utilisables
```

## ğŸ” DÃ©tail des Adresses RÃ©servÃ©es AWS

```
Sous-rÃ©seau: 10.0.1.0/24 (256 adresses totales)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   10.0.1.0/24                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  RÃ©seau     â”‚   Routeur   â”‚    DNS      â”‚ RÃ©servÃ©    â”‚ Broadcast â”‚
â”‚   10.0.1.0  â”‚  10.0.1.1   â”‚  10.0.1.2   â”‚ 10.0.1.3   â”‚ 10.0.1.255â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   PremiÃ¨re  â”‚            Adresses Utilisables          â”‚ DerniÃ¨re â”‚
â”‚  Adresse    â”‚         (10.0.1.4 - 10.0.1.254)          â”‚ Adresse  â”‚
â”‚  10.0.1.4   â”‚                                           â”‚ 10.0.1.254â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ Comment Calculer une Plage CIDR

### Exemple 1: 10.0.0.0/16
```
Adresse rÃ©seau: 10.0.0.0
Masque: 255.255.0.0
Plage: 10.0.0.0 - 10.0.255.255
Adresses: 65,536
Utilisables: 65,531 (en AWS)
```

### Exemple 2: 192.168.1.0/26
```
Adresse rÃ©seau: 192.168.1.0
Masque: 255.255.255.192
Plage: 192.168.1.0 - 192.168.1.63
Adresses: 64
Utilisables: 59 (en AWS)
```

## ğŸ¨ Visualisation des Blocs CIDR

### Division d'un VPC /16 en Sous-rÃ©seaux
```
VPC: 10.0.0.0/16 (65,536 adresses)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         10.0.0.0/16                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Web Tier      â”‚   App Tier      â”‚  Data Tier      â”‚ RÃ©servÃ©  â”‚
â”‚   10.0.0.0/19   â”‚  10.0.32.0/19   â”‚ 10.0.64.0/19    â”‚10.0.96.0/19â”‚
â”‚   (8,192 IPs)   â”‚  (8,192 IPs)    â”‚ (8,192 IPs)     â”‚(8,192 IPs)â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AZ A: 10.0.1.0/24â”‚ AZ A: 10.0.33.0/24â”‚ AZ A: 10.0.65.0/24â”‚         â”‚
â”‚ AZ B: 10.0.2.0/24â”‚ AZ B: 10.0.34.0/24â”‚ AZ B: 10.0.66.0/24â”‚         â”‚
â”‚ AZ C: 10.0.3.0/24â”‚ AZ C: 10.0.35.0/24â”‚ AZ C: 10.0.67.0/24â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ Calcul Manuel d'une Plage CIDR

### Ã‰tape par Ã‰tape pour 172.16.100.0/22

**1. DÃ©terminer le masque:**
```
/22 = 255.255.252.0
```

**2. Convertir en binaire:**
```
Adresse: 172.16.100.0
Binaire: 10101100.00010000.01100100.00000000

Masque:  11111111.11111111.11111100.00000000
```

**3. Identifier la partie rÃ©seau:**
```
Les 22 premiers bits sont fixes:
10101100.00010000.011001 - partie rÃ©seau (22 bits)
```

**4. Calculer la plage:**
```
Adresse rÃ©seau:   172.16.100.0
PremiÃ¨re IP:      172.16.100.1  
DerniÃ¨re IP:      172.16.103.254
Adresse broadcast:172.16.103.255
```

## ğŸ“ˆ Table de RÃ©fÃ©rence CIDR ComplÃ¨te

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PrÃ©fixe â”‚ Masque      â”‚ Bloc Sizeâ”‚ Sous-rÃ©seauxâ”‚ Plage HÃ´tes         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ /20      â”‚ 255.255.240.0â”‚ 4,096    â”‚ 16 x /24   â”‚ .0 - .15.255        â”‚
â”‚ /21      â”‚ 255.255.248.0â”‚ 2,048    â”‚ 8 x /24    â”‚ .0 - .7.255         â”‚
â”‚ /22      â”‚ 255.255.252.0â”‚ 1,024    â”‚ 4 x /24    â”‚ .0 - .3.255         â”‚
â”‚ /23      â”‚ 255.255.254.0â”‚ 512      â”‚ 2 x /24    â”‚ .0 - .1.255         â”‚
â”‚ /24      â”‚ 255.255.255.0â”‚ 256      â”‚ 1 x /24    â”‚ .0 - .255           â”‚
â”‚ /25      â”‚ 255.255.255.128â”‚ 128     â”‚ 2 x /26    â”‚ .0 - .127           â”‚
â”‚ /26      â”‚ 255.255.255.192â”‚ 64      â”‚ 4 x /28    â”‚ .0 - .63            â”‚
â”‚ /27      â”‚ 255.255.255.224â”‚ 32      â”‚ 8 x /30    â”‚ .0 - .31            â”‚
â”‚ /28      â”‚ 255.255.255.240â”‚ 16      â”‚ 16 x /32   â”‚ .0 - .15            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ Bonnes Pratiques CIDR pour AWS

### 1. Taille RecommandÃ©e pour VPC
```
âœ… RECOMMANDÃ‰: /16 (65,536 IPs)
ğŸŸ¡ ACCEPTABLE:  /20 (4,096 IPs)  
âŒ Ã‰VITER:      /28 ou plus petit (trop petit)
```

### 2. Planification de la Croissance
```
VPC: 10.0.0.0/16

RÃ©partition recommandÃ©e:
â€¢ Web:     10.0.0.0/19     (8,192 IPs)
â€¢ App:     10.0.32.0/19    (8,192 IPs) 
â€¢ Data:    10.0.64.0/19    (8,192 IPs)
â€¢ RÃ©servÃ©: 10.0.96.0/19    (8,192 IPs)
```

### 3. Ã‰viter les Chevauchements
```
âŒ MAUVAIS:
VPC A: 10.0.0.0/16
VPC B: 10.0.1.0/24  â† Chevauchement!

âœ… BON:
VPC A: 10.0.0.0/16
VPC B: 10.1.0.0/16  â† Pas de chevauchement
```

## ğŸ”§ Outils de Calcul CIDR

### Commandes Utiles
```bash
# Calculer la plage d'un CIDR
ipcalc 10.0.0.0/16

# VÃ©rifier si une IP est dans un CIDR
ipcalc 10.0.1.50/24

# Sous-diviser un CIDR
ipcalc 10.0.0.0/16 --s 24
```

### Sites Web Utiles
- **ipaddressguide.com/cidr**
- **cidr.xyz** 
- **subnet-calculator.com**

## ğŸ“ RÃ©sumÃ© des Points ClÃ©s

1. **CIDR = FlexibilitÃ©** - Plus flexible que le systÃ¨me par classes
2. **Notation IP/PrÃ©fixe** - Ex: 192.168.1.0/24
3. **Calcul: 2^(32-prÃ©fixe)** - Pour le nombre d'adresses
4. **AWS rÃ©serve 5 IPs** - Par sous-rÃ©seau
5. **/16 recommandÃ©** - Pour les VPC AWS
6. **Planifier large** - PrÃ©voir la croissance future

Le CIDR est fondamental pour bien concevoir vos rÃ©seaux AWS et Ã©viter les problÃ¨mes d'adressage IP! ğŸš€